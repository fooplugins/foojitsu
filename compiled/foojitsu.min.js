/*!
* FooJitsu - A lightweight JavaScript framework for plugins.
* @version 1.0.2
* @link https://github.com/fooplugins/foojitsu
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the MIT license.
*/
(function(){function t(){function e(e){return t.apply(this,e)}var n=this,i=Array.prototype.slice.call(arguments);if(!(this instanceof t))return e.prototype=t.prototype,new e(i);this.context=t.getContext(i),this.length=0;var r=i.shift();return t.is.self(r)?r:t.is.selector(r)?t(this.context.querySelectorAll(r),this.context):t.is.html(r)?t(t.parseHTML(r),this.context):(t.is.element(r)?(this[0]=r,this.length=1):t.is.array(r)||t.is.arrayLike(r)?(t.each(r,function(e,i){t.is.element(i)&&(n[e]=i)}),this.length=r.length):t.is.fn(r)&&t.ready(r),void 0)}window.FooJitsu=t})(),function(t){t.is=function(e,n){var i=n.split(","),r=!1;return t.each(i,function(n,i){if(i=i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),""!==i){var o=t.is.element(e.parentNode)?e.parentNode.cloneNode(!1):document.createElement("div"),s=e.cloneNode(!0);return o.appendChild(s),o.querySelector(i)===s?(r=!0,!1):void 0}}),r},t.is.self=function(e){return t.is.defined(e)&&e instanceof t},t.is.defined=function(t){return t!==void 0},t.is.undef=function(t){return t===void 0},t.is.string=function(t){return"string"==typeof t},t.is.number=function(t){return"number"==typeof t&&!isNaN(t)},t.is.array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.is.arrayLike=function(e){return!t.is.fn(e)&&t.is.defined(e)&&null!==e&&t.is.number(e.length)},t.is.boolean=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},t.is.fn=function(t){var e="undefined"!=typeof window&&t===window.alert;return e||"[object Function]"===Object.prototype.toString.call(t)},t.is.object=function(e){return t.is.defined(e)&&"[object Object]"===Object.prototype.toString.call(e)},t.is.hash=function(e){return t.is.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},t.is.element=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.is.event=function(e){return t.is.defined(window.Event)&&e instanceof window.Event},t.is.selector=function(e){try{return t.is.string(e)?(document.querySelector(e),!0):!1}catch(n){return!1}},t.is.html=function(t){try{return/^<.*?>$/i.test(t)}catch(e){return!1}},t.is.any=function(e,n){if(t.is.array(n)){for(var i=n.length+1;i-=1;)if(n[i-1]===e)return!0}else if(t.is.object(n))return e in n;return!1}}(FooJitsu),function(t){function e(e){if(t.is.defined(s.style[e]))return!0;for(var n=0,i=r.length;i>n;n++){var o=r[n]+e.charAt(0).toUpperCase()+e.substr(1);if(t.is.defined(s.style[o]))return!0}return!1}function n(e){if(-1!=t.inArray(e,o)){if(t.is.defined(s.style[e]))return e;for(var n=0,i=r.length;i>n;n++){var a=r[n]+e.charAt(0).toUpperCase()+e.substr(1);if(t.is.defined(s.style[a]))return a}}return e}function i(e,n){if(t.is.hash(e))for(var i in e)if(e.hasOwnProperty(i)&&t.is.defined(s.style[i]))return e[i];return n}var r=["Webkit","Moz","ms","O","Khtml"],o=["transition","transform","transformOrigin","userSelect"],s=document.createElement("div"),a=/^-(moz|webkit|khtml|o|ms)-([a-z])/,c=/^(Moz|Webkit|Khtml|O|ms)([A-Z])/,u=function(t,e,n){return n.toLowerCase()},l=function(t,e,n){return"-"+e+"-"+n.toLowerCase()},h=function(e){return a.test(e)&&(e=e.replace(a,u)),c.test(e)&&(e=e.replace(c,u)),t.toCamelCase(e)};t.browser={ltEqIE10:Function("/*@cc_on return true@*/")()};var f={storage:"localStorage"in window&&null!==window.localStorage,touch:"ontouchstart"in window||navigator.msMaxTouchPoints>0};t.browser.supports=function(n){return n=h(n),t.is.defined(f[n])?f[n]:f[n]=e(n)};var p={};t.browser.prefixed=function(e,i){return e=h(e),e=t.is.defined(p[e])?p[e]:p[e]=n(e),i?t.toHyphen(e.replace(c,l)):e};var d={transitionend:i({transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}),animationstart:i({animation:"animationstart",OAnimation:"oanimationstart",MozAnimation:"animationstart",WebkitAnimation:"webkitAnimationStart"}),animationiteration:i({animation:"animationiteration",OAnimation:"oanimationiteration",MozAnimation:"animationiteration",WebkitAnimation:"webkitAnimationIteration"}),animationend:i({animation:"animationend",OAnimation:"oanimationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"})};t.browser.event=function(e){return t.is.defined(d[e])?d[e]:e}}(FooJitsu),function(t){t.noop=function(){},t.ready=function(e){(t.browser.ltEqIE10?"complete"===document.readyState:"loading"!==document.readyState)?e(t):setTimeout(function(){t.ready(e)},1)},t.getContext=function(e){if(t.is.array(e)&&e.length>1){var n=e[e.length-1];if(t.is.selector(e[0])){if(t.is.self(n)&&1==n.length)return n.get(0);if(t.is.element(n))return n}}return document},t.each=function(e,n){var i;if(t.is.hash(e)){for(var r in e)if(e.hasOwnProperty(r)&&(i=n.call(window,r,e[r]),t.is.boolean(i)&&i===!1))break}else if(t.is.array(e)||t.is.self(e)||t.is.arrayLike(e))for(var o=0,s=e.length;s>o&&(i=n.call(window,o,e[o]),!t.is.boolean(i)||i!==!1);o++);},t.filter=function(e,n){var i;return t.is.hash(e)?(i={},t.each(e,function(t,e){n.call(window,t,e)===!0&&(i[t]=e)})):(t.is.array(e)||t.is.self(e)||t.is.arrayLike(e))&&(i=[],t.each(e,function(t,e){n.call(window,t,e)===!0&&i.push(e)})),i},t.map=function(e,n){var i,r=[];return t.each(e,function(e,o){i=n.call(window,o,e),t.is.defined(i)&&null!==i&&(t.is.array(i)?r=r.concat(i):r.push(i))}),r},t.extend=function(){var e,n,i=Array.prototype.slice.call(arguments),r=i.shift(),o=!1;return t.is.boolean(r)&&(o=r,r=i.shift()||{}),t.each(i,function(i,s){(t.is.hash(s)||t.is.array(s))&&t.each(s,function(i,s){e=r[i],r!==s&&(o&&t.is.array(s)?(n=t.is.array(e)?e:[],r[i]=t.extend(o,n,s)):o&&t.is.hash(s)?(n=t.is.hash(e)?e:{},r[i]=t.extend(o,n,s)):t.is.defined(s)&&(r[i]=s))})}),r};var e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,n=/^key/,i=/^touch/,r=/^transition/,o=/^animation/;t.getEventType=function(s){return(e.test(s)?"Mouse":n.test(s)?"Keyboard":i.test(s)?"Touch":t.browser.supports("transition")&&r.test(s)?"Transition":t.browser.supports("animation")&&o.test(s)?"Animation":"")+"Event"},t.trim=function(e,n){return t.is.undef(e)||null==e?"":(n&&(e=e.replace(/[\s\uFEFF\xA0]{2,}/g," ")),e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))},t.makeArray=function(e){var n=[];if(t.is.arrayLike(e))for(var i,r=0,o=e.length;o>r;r++)i=e[r],t.is.defined(i)&&n.push(i);return n},t.inArray=function(e,n){var i=-1;return t.each(n,function(t,n){return n===e?(i=t,!1):void 0}),i},t.split=function(e,n,i,r){if(!t.is.string(e))return[];n=t.is.defined(n)?n:" ",i=t.is.boolean(i)?i:!0,r=t.is.boolean(r)?r:!0;for(var o=e.split(n),s=o.length;s>=0;s--)r&&(o[s]=t.trim(o[s])),i&&""===o[s]&&o.splice(s,1);return o},t.parseAttrValue=function(e){var n=e;return/^false$/i.test(e)?n=!1:/^true$/i.test(e)?n=!0:isNaN(e)?t.is.string(e)&&("{"==e.charAt(0)&&"}"==e.charAt(e.length-1)||"["==e.charAt(0)&&"]"==e.charAt(e.length-1))&&(n=JSON.parse(e)):n=+e,n},t.toCamelCase=function(e){return t.trim(e,!0).replace(/^([A-Z])|[-\s_](\w)/g,function(t,e,n){return n?n.toUpperCase():e.toLowerCase()})},t.toHyphen=function(e){return t.trim(e,!0).replace(/([a-z])(?:[-\s_])([A-Za-z])|([a-z])([A-Z])/g,"$1$3-$2$4").toLowerCase()},t.isChildOf=function(t,e){for(;(t=t.parentNode)&&t!==e;);return!!t},t.index=function(t){for(var e=0,n=t;n=n.previousElementSibling;)++e;return e};var s=document.createElement("div");t.parseHTML=function(e){return t.is.html(e)?(s.innerHTML=e,s.childNodes):null}}(FooJitsu),function(t){function e(){return this instanceof e?(this._callbacks=[],this._state="pending",void 0):new e}t.Deferred=function(n){var i=new e;if(t.is.fn(n))try{n(i)}catch(r){i.reject(r)}return i},e.prototype.__apply__=function(e,n){function i(e,i){t.is.fn(e[i])?e[i].apply(r,n):t.is.array(e[i])&&t.each(e[i],function(e,o){t.is.fn(o[i])&&o[i].apply(r,n)})}var r=this,o="resolve"===e||"reject"===e;o&&("reject"===e&&(this._state="rejected",this.then=function(t,e){e.apply(r,n)}),"resolve"===e&&(this._state="resolved",this.then=function(t){t.apply(r,n)}),this.resolve=this.reject=this.notify=function(){throw Error("Promise already completed")}),t.each(this._callbacks,function(t,n){i(n,e)}),o&&(t.each(this._callbacks,function(t,e){i(e,"always")}),this._callbacks=[])},e.prototype.state=function(){return this._state},e.prototype.resolve=function(){this.__apply__("resolve",Array.prototype.slice.call(arguments))},e.prototype.reject=function(){this.__apply__("reject",Array.prototype.slice.call(arguments))},e.prototype.notify=function(){this.__apply__("progress",Array.prototype.slice.call(arguments))},e.prototype.then=function(t,e,n){return this._callbacks.push({resolve:t,reject:e,progress:n}),this},e.prototype.always=function(t){return this._callbacks.push({always:t}),this},e.prototype.done=function(t){return this._callbacks.push({resolve:t}),this},e.prototype.fail=function(t){return this._callbacks.push({reject:t}),this},e.prototype.progress=function(t){return this._callbacks.push({progress:t}),this},t.when=function(){var e=Array.prototype.slice.call(arguments);return t.Deferred(function(n){var i=e.length,r={length:0};t.each(e,function(e,o){o.then(function(o){r.length++,r[e]=o,r.length===i&&n.resolve(t.makeArray(r))},function(t){n.reject(t)})})})}}(FooJitsu),function(t){t.expando="foojitsu-"+Math.random().toString(36).substring(7),t.CacheManager=function(){return this instanceof t.CacheManager?(this.data={},this._attr={},this._events={},void 0):new t.CacheManager},t.CacheManager.prototype.uid=function(e,n){n=!!n;var i;if(t.is.element(e)&&(t.is.number(i=e[t.expando])||(i=(new Date).getTime(),Object.defineProperty(e,t.expando,{value:i,configurable:!0})),n&&!this._attr[i])){var r={};t.each(e.attributes,function(e,n){"data-"===n.name.substr(0,5)&&(r[t.toCamelCase(n.name.substr(5))]=t.parseAttrValue(n.value))}),this.data[i]=t.extend(!0,this.data[i],r),this._attr[i]=!0}return i},t.CacheManager.prototype.clear=function(e,n){var i,r=t.is.number(i=this.uid(e));r&&t.is.hash(this.data[i])&&delete this.data[i],r&&n&&(t.is.boolean(n)&&delete this._attr[i],t.is.string(n)&&"__events__"===n&&delete this._events[i]),t.is.undef(e)&&(this.data={},this._attr={})},t.CacheManager.prototype.get=function(e,n){var i;return t.is.number(i=this.uid(e,!0))&&t.is.hash(this.data[i])?t.is.string(n)?"__events__"===n?t.is.array(this._events[i])?this._events[i]:this._events[i]=[]:this.data[i][n]:this.data[i]:void 0},t.CacheManager.prototype.set=function(e,n,i){var r=this.uid(e,!0),o={},s=!1;t.is.hash(n)?(o=n,s=!0):t.is.string(n)&&t.is.defined(i)&&("__events__"===n&&t.is.array(i)?0===i.length?delete this._events[r]:this._events[r]=i:(o[n]=i,s=!0)),s&&(this.data[r]=t.extend(!0,this.data[r],o))},t.cache=new t.CacheManager}(FooJitsu),function(t){t.prototype.each=function(e){return t.each(this,e),this},t.prototype.map=function(e){return t.map(this,function(t,n){return e.call(t,n,t)})},t.prototype.get=function(e){if(t.is.number(e))return-1===e&&(e=this.length-1),e in this?this[e]:null;var n=[];return this.each(function(t,e){n.push(e)}),n},t.prototype.is=function(e){var n=!1;return this.each(function(i,r){return(n=t.is(r,e))===!0?!1:void 0}),n},t.prototype.find=function(e){return t.is.selector(e)?t(e,this):this},t.prototype.filter=function(e){var n=t.is.fn(e),i=t.is.selector(e),r=t.filter(this,function(r,o){return n?e.call(o,r,o):i?t(o).is(e):!0});return t(r,this)},t.prototype.eq=function(e){return t(this.get(e))},t.prototype.first=function(){return this.eq(0)},t.prototype.hasClass=function(e){var n,i=this,r=!1;return t.each(t.split(e),function(t,e){return document.classList?i.each(function(t,n){return n.classList.contains(e)?(r=!0,!1):void 0}):(n=RegExp("(\\s|^)"+e+"(\\s|$)"),i.each(function(t,e){return n.test(e.className)?(r=!0,!1):void 0})),r===!0?!1:void 0}),r},t.prototype.addClass=function(e){var n,i=this;return t.each(t.split(e),function(e,r){document.classList?i.each(function(t,e){e.classList.add(r)}):(n=RegExp("(\\s|^)"+r+"(\\s|$)"),i.each(function(e,i){n.test(i.className)||(i.className=t.trim(i.className+" "+r,!0))}))}),this},t.prototype.removeClass=function(e){var n,i=this,r=t.split(e);return r.length>0?t.each(r,function(e,r){document.classList?i.each(function(t,e){e.classList.remove(r)}):(n=RegExp("(\\s|^)"+r+"(\\s|$)"),i.each(function(e,i){n.test(i.className)&&(i.className=t.trim(i.className.replace(n," "),!0))}))}):this.each(function(t,e){e.className=""}),this},t.prototype.toggleClass=function(e,n){var i,r,o=this;return t.each(t.split(e),function(e,s){document.classList?o.each(function(t,e){e.classList.toggle(s,n)}):(i=RegExp("(\\s|^)"+s+"(\\s|$)"),o.each(function(e,o){r=i.test(o.className),t.is.boolean(n)&&!n||t.is.undef(n)&&r?o.className=t.trim(o.className.replace(i," "),!0):r||(o.className=t.trim(o.className+" "+s,!0))}))}),this},t.prototype.index=function(){return t.index(this.get(0))},t.prototype.css=function(e,n){function i(e,n,i){n=t.browser.prefixed(n),t.is.number(i)&&(i+="px"),""===i||null===i?e.style.removeProperty(n):t.is.defined(e.style[n])&&(e.style[n]=i)}return t.is.string(e)&&t.is.undef(n)?(e=t.browser.prefixed(e,!0),getComputedStyle(this.get(0),null).getPropertyValue(t.toHyphen(e))):this.each(function(r,o){t.is.hash(e)?t.each(e,function(t,e){i(o,t,e)}):t.is.string(e)&&i(o,e,n)})},t.prototype.attr=function(e,n){function i(e,n,i){""===i||null===i?e.removeAttribute(t.toHyphen(n)):e.setAttribute(t.toHyphen(n),t.is.string(i)?i:JSON.stringify(i))}if(t.is.undef(n)&&(null===e||t.is.undef(e)||t.is.string(e))){var r=this.get(0);if(!r.hasAttributes())return;if(t.is.string(e))return t.parseAttrValue(r.getAttribute(t.toHyphen(e)));var o={};return t.each(r.attributes,function(e,n){o[t.toCamelCase(n.name)]=t.parseAttrValue(n.value)}),o}return this.each(function(r,o){t.is.hash(e)?t.each(e,function(t,e){i(o,t,e)}):t.is.string(e)&&t.is.defined(n)&&i(o,e,n)})},t.prototype.data=function(e,n){return t.is.undef(e)||t.is.string(e)&&t.is.undef(n)?t.cache.get(this.get(0),e):this.each(function(i,r){t.cache.set(r,e,n)})},t.prototype.removeData=function(){return this.each(function(e,n){t.cache.clear(n,!0)})},t.prototype.contentLoaded=function(e){function n(){s>o&&10>=a?(a++,setTimeout(n,200)):e.call(i)}var i=this,r=this.find("img,iframe"),o=0,s=r.length,a=0;t.each(r,function(e,n){if(n.complete)return o++,void 0;var i=t(n).on("load error",function(){i.off("load error"),o++}).attr("src",n.src)}),n()},t.prototype.prev=function(e){var n=this.map(function(n,i){if(t.is.string(e)){for(var r=null,o=i;null===r&&(o=o.previousElementSibling);)t.is(o,e)&&(r=o);return r}return i.previousElementSibling});return t(n,this.context)},t.prototype.next=function(e){var n=this.map(function(n,i){if(t.is.string(e)){for(var r=null,o=i;null===r&&(o=o.nextElementSibling);)t.is(o,e)&&(r=o);return r}return i.nextElementSibling});return t(n,this.context)},t.prototype.clone=function(){var e=[];return this.each(function(t,n){e.push(n.cloneNode(!0))}),t(e,this.context)},t.prototype.append=function(){var e,n=Array.prototype.slice.call(arguments);return this.each(function(i,r){e=document.createDocumentFragment(),t.each(n,function(n,r){t.is.self(r)?t.each(0==i?r:r.clone(),function(t,n){e.appendChild(n)}):t.is.html(r)?t.each(t.parseHTML(r),function(t,n){e.appendChild(n)}):t.is.element(r)&&e.appendChild(0==i?r:r.cloneNode(!0))}),e.childNodes.length>0&&r.appendChild(e)})},t.prototype.appendTo=function(){var e=this,n=Array.prototype.slice.call(arguments);return t.each(n,function(n,i){t(i).append(e)}),this},t.prototype.remove=function(){return this.off().removeData().each(function(t,e){e.parentNode&&e.parentNode.removeChild(e)})},t.prototype.__cssPixelProp__=function(e,n){return t.is.undef(n)?parseFloat(this.css(e)):this.css(e,n)},t.prototype.width=function(t){return this.__cssPixelProp__("width",t)},t.prototype.height=function(t){return this.__cssPixelProp__("height",t)},t.prototype.top=function(t){return this.__cssPixelProp__("top",t)},t.prototype.bottom=function(t){return this.__cssPixelProp__("bottom",t)},t.prototype.left=function(t){return this.__cssPixelProp__("left",t)},t.prototype.right=function(t){return this.__cssPixelProp__("right",t)}}(FooJitsu),function(t){t.prototype.trigger=function(e,n){if(t.is.string(e)){var i=t.browser.event(e),r=t.getEventType(e);document.createEvent?(e=document.createEvent(r),e.initEvent(i,!0,!0)):window[r]&&(e=new window[r](i,{bubbles:!0,cancelable:!0}))}return t.is.event(e)?(t.is.hash(n)&&t.extend(!0,e,n),this.each(function(t,n){n.dispatchEvent(e)})):this},t.prototype.on=function(e,n,i,r){var o,s,a=Array.prototype.slice.call(arguments);e=a.shift(),r=a.pop(),n=null,i=null,1===a.length?(s=a.shift(),n=t.is.string(s)?s:null,i=t.is.hash(s)?s:null):2===a.length&&(n=a.shift(),i=a.shift()),o=t.is.string(n)?function(e){var o=(this===window?document:this).querySelectorAll(n);if(o.length)for(var s=0,a=o.length;a>s;s++)(e.target==o[s]||t.isChildOf(e.target,o[s]))&&(t.is.hash(i)&&(e.data=t.extend(!0,e.data,i)),r.call(this,e))}:t.is.hash(i)?function(e){e.data=t.extend(!0,e.data,i),r.call(this,e)}:function(t){r.call(this,t)};var c=this;return t.each(t.split(e),function(e,i){c.each(function(e,s){t.cache.get(s,"__events__").push({name:i,selector:n,handler:o,original:r}),s.addEventListener(t.browser.event(i),o,!1)})}),this},t.prototype.off=function(e,n,i){var r=Array.prototype.slice.call(arguments);e=r.shift(),i=r.pop(),n=1===r.length?r.shift():null;var o=t.is.fn(i),s=t.is.string(n),a=this,c=t.split(e);return 0===c.length?a.each(function(e,n){var i=t.cache.get(n,"__events__");t.each(i,function(e,i){n.removeEventListener(t.browser.event(i.name),i.handler,!1)}),t.cache.clear(n,"__events__")}):t.each(c,function(e,r){a.each(function(e,a){var c=t.cache.get(a,"__events__"),u=[];t.each(c,function(e,c){(o&&s&&c.name===r&&c.selector===n&&c.original===i||o&&!s&&c.name===r&&c.original===i||!o&&s&&c.name===r&&c.selector===n||!o&&!s&&c.name===r)&&(a.removeEventListener(t.browser.event(r),c.handler,!1),u.push(e))}),u.sort(function(t,e){return e-t}),t.each(u,function(t,e){c.splice(e)}),t.cache.set(a,"__events__",c)})}),this},t.prototype.one=function(e,n,i,r){var o,s=this,a=Array.prototype.slice.call(arguments),c=Array.prototype.slice.call(arguments);return r=a.pop(),c.pop(),(2===c.length||3===c.length)&&(t.is.hash(c[1])&&c.splice(1,1),t.is.hash(c[2])&&c.splice(2,1)),o=function(t){s.off.apply(s,c),r.call(this,t)},a.push(o),c.push(o),this.on.apply(this,a)},t.prototype.transitionend=function(){var e=this,n=Array.prototype.slice.call(arguments);return n.unshift("transitionend"),this.one.apply(this,n),t.browser.supports("transition")||setTimeout(function(){e.trigger("transitionend",{propertyName:"",elapsedTime:0})},1),this}}(FooJitsu);